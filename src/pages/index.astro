---
// Component Imports
import BaseHead from '../components/BaseHead.astro';
import BlogHeader from '../components/BlogHeader.astro';
import BlogPostPreview from '../components/BlogPostPreview.astro';
import CategoryPreview from '../components/CategoryPreview.astro';
import IssuePreview from '../components/IssuePreview';
import IssueSelection from '../components/IssueSelection';
import { SITE } from '../config';
import Layout from '../layouts/Layout.astro';

let { title } = SITE;
let description = 'Химеры -.';
let permalink = 'https://nickgolitsyn.com/';

let categoryPosts = await Astro.glob('./categories/*.md');
let issuePosts = await Astro.glob('./issues/*.md');


let allPosts = await Astro.glob('./posts/*.md');
allPosts = allPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());
---
<Layout {title} {description} {permalink}>
	<main class="content">
    <section>
      <img width="720" height="420" class="hero-image mx-auto my-8" loading="lazy" src='/assets/cover.jpg' />
    </section>
    <!-- {issuePosts.map((p) => <i class="bi bi-circle-fill text-gray-500"></i>)}
    <section aria-label="Blog post list">
      <IssuePreview post={issuePosts[0]} allCategories={categoryPosts} allPosts={allPosts} />
		</section> -->
    <!-- <IssueSelection client:only="react" issuePosts={issuePosts} categoryPosts={categoryPosts} allPosts={allPosts} /> -->
    <IssuePreview client:only="react" posts={issuePosts} allCategories={categoryPosts} allPosts={allPosts} />
    <!-- <IssueSelection /> -->
	</main>
</Layout>
<style>
	header {
    width: 100%;
    height: 100%;
    /* background-color: var(--theme-bg-offset); */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-image {
		width: 70vw;
		aspect-ratio: 2/1;
		object-fit: cover;
		object-position: center;
		margin-top: 2rem;
		margin-bottom: 4rem;
		max-width: 1280px;
	}

	@media (max-width: 50em) {
		.hero-image {
			height: 260px;
			margin-top: 0;
			margin-bottom: 2rem;
		}
	}

  .content {
    margin-top: 4rem;
    margin-bottom: 8rem;
  }

  .content :global(main > * + *) {
    margin-top: 1rem;
  }

  .intro {
    padding-bottom: 4rem;
    margin-bottom: 2rem;
    border-bottom: 4px solid var(--theme-divider);
  }

  .intro > * {
    margin: 0;
  }

  .latest {
    font-size: 2.5rem;
    font-weight: 700;
  }

  footer {
    text-align: center;
  }
</style>
